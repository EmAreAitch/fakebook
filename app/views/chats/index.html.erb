<div class="px-3 py-4 sm:px-4 sm:py-6 max-w-4xl mx-auto text-secondary-400">
  <div class="bg-primary-800 bg-opacity-60 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-2xl space-y-8 sm:space-y-10">

    <!-- Back Button -->
    <div>
      <button onclick="history.back()" class="inline-flex items-center text-accent-500 hover:text-accent-400 text-sm font-medium">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M9.707 14.707a1 1 0 01-1.414 0L3.586 10l4.707-4.707a1 1 0 011.414 1.414L6.414 10l3.293 3.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
        </svg>
        <span class="ml-2">Back</span>
      </button>
    </div>

    <!-- Recent Chats Section -->
    <section>
      <h2 class="text-xl sm:text-2xl font-heading text-white mb-4 sm:mb-6">Recent Chats</h2>
      <div class="space-y-3">
        <% @chats.each do |chat| %>
          <% other = chat.sender == current_user ? chat.receiver : chat.sender %>
          <div class="flex items-center justify-between flex-wrap sm:flex-nowrap gap-3 bg-primary-700 bg-opacity-50 p-3 sm:p-4 rounded-lg hover:bg-primary-700 transition">
            <div class="flex items-center gap-3 min-w-0">
              <%= image_tag(other.avatar.attached? ? other.avatar.url : "fakebook_pfp_placeholder.jpg", class: "h-10 w-10 rounded-full object-cover") %>
              <h3 class="text-base sm:text-lg font-medium text-white truncate"><%= other.username %></h3>
            </div>
            <%= link_to "Chat", chat_path(other.username), class: "text-sm bg-accent-500 text-white px-4 py-1 rounded-full hover:bg-accent-600 transition whitespace-nowrap" %>
          </div>
        <% end %>
      </div>
    </section>

    <!-- Followings & Followers Section -->
    <section>
      <h2 class="text-xl sm:text-2xl font-heading text-white mb-4 sm:mb-6">Followings & Followers</h2>
      <div class="space-y-3">
        <% @follows.each do |follow| %>
          <% user = follow.follower == current_user ? follow.followed : follow.follower %>
          <div class="flex items-center justify-between flex-wrap sm:flex-nowrap gap-3 bg-primary-700 bg-opacity-50 p-3 sm:p-4 rounded-lg hover:bg-primary-700 transition">
            <div class="flex items-center gap-3 min-w-0">
              <%= image_tag(user.avatar.attached? ? user.avatar.url : "fakebook_pfp_placeholder.jpg", class: "h-10 w-10 rounded-full object-cover") %>
              <h3 class="text-base sm:text-lg font-medium text-white truncate"><%= user.username %></h3>
            </div>
            <%= link_to "Chat", chat_path(user.username), class: "text-sm bg-accent-500 text-white px-4 py-1 rounded-full hover:bg-accent-600 transition whitespace-nowrap" %>
          </div>
        <% end %>
      </div>
    </section>

  </div>
</div>
