<% content_for(:title, 'WebAuthn Authentication') %>

<section class="max-w-lg mx-auto bg-primary-800 p-8 rounded-xl">
  <p class="mb-4 text-center text-secondary-400">Hey <%= user.email %>, your account is secured with WebAuthn authenticator.</p>

  <%= form_with(url: webauthn_authentications_challenge_url(format: :json), method: :post, data: {
        controller: "webauthn--auth",
        "webauthn--auth-callback-value": webauthn_authentications_url(format: :turbo_stream),
        action: "submit->webauthn--auth#auth"
      }) do |f| %>

    <div class="flex mb-5">
      <%= f.button :button, class: "w-full flex justify-center py-3 px-5 border border-transparent rounded-lg shadow text-sm font-medium text-white bg-accent-500 hover:bg-accent-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-600" do %>
        Authenticate!
      <% end %>
    </div>

  <% end %>
</section>
